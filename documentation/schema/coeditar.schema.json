{
	"$id": "https://coeditar.org/schema/coeditar.schema.json",
	"$schema": "http://json-schema.org/draft-07/schema",
	"title": "CoEditAR JSON Schema",
	"description": "The JSON schema of the CoEditAR framework files.",
	"allOf": [ { "$ref": "#/definitions/root" } ],
	"definitions": {
		"root": {
			"title": "Root",
			"description": "The root of the CoEditAR document.",
			"$comment": "",
			"properties": {
				"coeditar": {
					"title": "CoEditAR",
					"description": "The version number of CoEditAR system.",
					"type": "number",
					"default": 0.1,
					"minimum": 0
				},
				"packages": {
					"title": "Packages",
					"description": "The packages of the CoEditAR system.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/package" } ]
				},
				"spaces": {
					"title": "Spaces",
					"description": "The interaction spaces in the CoEditAR system.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/space" } ]
				},
				"views": {
					"title": "Views",
					"description": "The view in the CoEditAR system.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/view" } ]
				}
			},
			"required": [ "coeditar" ],
			"additionalItems": false
		},
		"package": {
			"title": "Package",
			"description": "Describes a package (a collection of resources).",
			"$comment": "data/model/Library",
			"properties": {
				"name": {
					"title": "Name",
					"description": "The (unique) name of the package.",
					"type": "string"
				},
				"extends": {
					"title": "Extends",
					"description": "The id of the class this instance inherits from.",
					"type": "string"
				},
				"assemblies": {
					"title": "Assemblies",
					"description": "The behaviors contained in the package.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/assembly" } ]
				},
				"behaviors": {
					"title": "Behaviors",
					"description": "The behaviors contained in the package.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/behavior" } ]
				},
				"entities": {
					"title": "Entities",
					"description": "The entities contained in the package.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/entity" } ]
				}
			}
		},
		"space": {
			"title": "Space",
			"description": "Describes an user interaction space.",
			"$comment": "",
			"properties": {
				"name": {
					"title": "Name",
					"description": "The unique name of the space."
				},
				"spaces": {
					"title": "Spaces",
					"description": "The sub-spaces the space is divided in.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/space" } ]
				},
				"entities": {
					"title": "Entities",
					"description": "The entities present in the space.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/entity" } ]
				}
			}
		},
		"entity": {
			"title": "Entity",
			"description": "Defines a logic entity.",
			"$comment": "logic/Entity",
			"properties": {
				"name": {
					"title": "Name",
					"description": "The (unique) name of the entity.",
					"type": "string"
				},
				"extends": {
					"title": "Extends",
					"description": "The id of the class this instance inherits from.",
					"type": "string"
				},
				"entities": {
					"title": "Entities",
					"description": "The sub-entities present in the entity.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/entity" } ]
				},
				"representation": {
					"title": "Representation",
					"description": "The representation of the entity.",
					"$ref": "#/definitions/assembly"
				},
				"behaviors": {
					"title": "Behaviors",
					"description": "The behaviors of the entity.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/behavior" } ]
				}
			}
		},
		"assembly": {
			"title": "Assembly",
			"description": "Defines a smart assembly.",
			"$comment": "data/model/Assembly",
			"properties": {
				"name": {
					"title": "Name",
					"description": "The (unique) name of the assembly.",
					"type": "string"
				},
				"extends": {
					"title": "Extends",
					"description": "The id of the class this instance inherits from.",
					"type": "string"
				},
				"shapes": {
					"title": "Shapes",
					"description": "The shapes of the assembly.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/shape" } ]
				},
				"parts": {
					"title": "Parts",
					"description": "The parts of the assembly.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/part" } ]
				}
			}
		},
		"shape": {
			"title": "Shape",
			"description": "Defines a shape of a smart assembly.",
			"$comment": "data/model/Shape",
			"properties": {
				"name": {
					"title": "Name",
					"description": "The (unique) name of the shape.",
					"type": "string"
				},
				"extends": {
					"title": "Extends",
					"description": "The id of the class this instance inherits from.",
					"type": "string"
				},
				"type": {
					"title": "Type",
					"description": "The type of the shape ('box', 'ellipsoid', 'cylinder' or 'cone').",
					"type": "string"
				},
				"width": {
					"title": "Width",
					"description": "The width of the shape.",
					"$ref": "#/definitions/distance"
				},
				"height": {
					"title": "Height",
					"description": "The height of the shape.",
					"$ref": "#/definitions/distance"
				},
				"depth": {
					"title": "Depth",
					"description": "The depth of the shape.",
					"$ref": "#/definitions/distance"
				},
				"radius": {
					"title": "Radius",
					"description": "The radius of the shape.",
					"$ref": "#/definitions/distance"
				},
				"radius2": {
					"title": "Radius2",
					"description": "The secondary radius of the shape (for cones).",
					"$ref": "#/definitions/distance"
				}
			}
		},
		"distance": {
			"title": "Distance",
			"description": "Defines a length measure.",
			"$comment": "",
			"$ref": "#/definitions/measure",
			"properties": {
				"value": {
					"title": "Value",
					"description": "The value of the measure.",
					"type": "number",
					"minimum": 0
				}
			}
		},
		"measure": {
			"title": "Measure",
			"description": "Defines a measurement.",
			"$comment": "data/types/Measure",
			"properties": {
				"value": {
					"title": "Value",
					"description": "The value of the measure.",
					"type": "number"
				},
				"unit": {
					"title": "Value",
					"description": "The unit of the measure.",
					"type": "string"
				}
			}
		},
		"part": {
			"title": "Part",
			"description": "Defines a part of a smart assembly.",
			"$comment": "data/model/Part",
			"properties": {
				"name": {
					"title": "Name",
					"description": "The (unique) name of the part.",
					"type": "string"
				},
				"extends": {
					"title": "Extends",
					"description": "The id of the class this instance inherits from.",
					"type": "string"
				},
				"shapes": {
					"title": "Shapes",
					"description": "The shape of the part.",
					"type": "array",
					"allOf": [ { "$ref": "#/definitions/shape" } ]
				}
			}
		},
		"behavior": {
			"title": "Behavior",
			"description": "Defines a logic behavior.",
			"$comment": "logic/Behavior",
			"properties": {
				"name": {
					"title": "Name",
					"description": "The (unique) name of the behavior.",
					"type": "string"
				},
				"extends": {
					"title": "Extends",
					"description": "The id of the class this instance inherits from.",
					"type": "string"
				}
			}
		},
		"view": {
			"title": "View",
			"description": "Describes a view in the CoEditAR system.",
			"$comment": "",
			"properties": {
				"name": {
					"title": "Name",
					"description": "The name of the view.",
					"type": "string"
				},
				"width": {
					"title": "Width",
					"description": "The width of the view (CSS value).",
					"type": "number"
				},
				"height": {
					"title": "Height",
					"description": "The height of the view (CSS value).",
					"type": "number"
				},
				"state": {
					"title": "State",
					"description": "The visibility state of the view.",
					"type": "string",
					"enum": [ "Normal", "Maximized", "FullScreen" ]
				}
			}
		}
	}
}